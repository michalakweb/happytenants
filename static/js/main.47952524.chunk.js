(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{147:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(69),i=n.n(r);n(86),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=n(16),u=n(5),s=n(70),l=n(71),p=n(79),d=n(72),m=n(80),h=n(28),f=n(20),E=n(53),b=n(30),g=n.n(b);n(137),n(68);g.a.initializeApp({apiKey:"AIzaSyAXq8JEGWNUGEd4ToVNuMgwNj4i6VhMBDI",authDomain:"happy-tenants.firebaseapp.com",databaseURL:"https://happy-tenants.firebaseio.com",projectId:"happy-tenants",storageBucket:"happy-tenants.appspot.com",messagingSenderId:"1044021883702"});var y=g.a.database(),v=new g.a.auth.GoogleAuthProvider,O=function(e){return function(t){var n={description:e};return y.ref("todoList").push(n).then(function(e){t(function(e){return{type:"ADD_ITEM",item:e}}(Object(E.a)({id:e.key},n)))})}},w=function(){return function(e){return y.ref("todoList").once("value").then(function(t){var n=[];t.forEach(function(e){n.push(Object(E.a)({id:e.key},e.val()))}),e({type:"SET_LIST",list:n})})}},I=Object(f.b)(function(e){return{state:e}})(function(e){return o.a.createElement("div",null,o.a.createElement("p",null,e.item.description),o.a.createElement("button",{onClick:function(){e.dispatch(function(e){var t=e.id;return function(e){return y.ref("todoList/".concat(t)).remove().then(function(){e({type:"REMOVE_ITEM",id:t})})}}({id:e.item.id}))}},"delete option"))}),T=(n(141),n(149)),j=n(21),S=n(74),L=n(78),_=[],k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ITEM":return[].concat(Object(L.a)(e),[t.item]);case"REMOVE_ITEM":return e.filter(function(e){return e.id!==t.id});case"SET_LIST":return t.list;default:return e}},D=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||j.c,A=Object(j.d)(k,D(Object(j.a)(S.a))),M=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={error:""},n.componentDidMount=function(){y.ref(".info/connected").on("value",function(e){!0===e.val()?n.props.dispatch(w()):console.log("not connected")})},n.componentDidUpdate=function(){0!==n.state.error.length&&setTimeout(function(){n.setState(function(){return{error:""}})},2e3)},n.handleAdd=function(e){e.preventDefault();var t=e.target.elements.todoItem.value.trim();e.target.elements.todoItem.value="",e.target.elements.todoItem.focus(),"string"!==typeof t||""===t||t.length>120?n.setState(function(){return{error:"Invalid type of submission. Try again."}}):n.props.state.includes(t)?n.setState(function(){return{error:"This option already exists. Try again."}}):(n.setState(function(){return{error:""}}),n.props.dispatch(O(t)))},n.handleLogin=function(){g.a.auth().signInWithPopup(v)},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(T.a,null,o.a.createElement("h1",null,"Buying List"),this.props.state.length?this.props.state.map(function(e){return o.a.createElement(I,{key:e.id,item:e})}):o.a.createElement("p",null,"Nic nie ma na li\u015bcie"),o.a.createElement("form",{onSubmit:this.handleAdd},o.a.createElement("input",{type:"text",name:"todoItem",placeholder:"Type your option here"}),o.a.createElement("button",{type:"submit"},"Add something")),0!==this.state.error.length&&o.a.createElement("p",{className:"mt-3 mb-2"},this.state.error),o.a.createElement(h.a,{to:"/"},"Go to dashboard"),o.a.createElement("button",{onClick:this.handleLogin},"Login")))}}]),t}(a.Component);A.subscribe(function(){return console.log(A.getState())});var N=Object(f.b)(function(e){return{state:e}})(M),B=function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"Welcome to the chores"),o.a.createElement(h.a,{to:"/buyingList"},"Go to buying list"))},G=Object(u.b)({basename:"/happytenants"}),V=o.a.createElement(f.a,{store:A},o.a.createElement(c.b,{history:G},o.a.createElement(c.c,null,o.a.createElement(c.a,{exact:!0,path:"/",component:B}),o.a.createElement(c.a,{path:"/buyingList",component:N}),o.a.createElement(c.a,{component:function(){return o.a.createElement("div",null,"404 Not found 1")}}))));i.a.render(V,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},81:function(e,t,n){e.exports=n(147)},86:function(e,t,n){}},[[81,1,2]]]);
//# sourceMappingURL=main.47952524.chunk.js.map